# ğŸš¨ éƒ¨ç½²å‰å®‰å…¨æ£€æŸ¥ - å¿…é¡»å®Œæˆ

## âš ï¸ é‡è¦æç¤º

åœ¨éƒ¨ç½²åˆ°Zeaburä¹‹å‰ï¼Œ**å¿…é¡»**å®Œæˆä»¥ä¸‹å®‰å…¨æ£€æŸ¥ï¼Œç¡®ä¿æ²¡æœ‰æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚

## âš¡ å¿«é€Ÿæ£€æŸ¥ï¼ˆæ¨èï¼‰

### Windowsç”¨æˆ·

åŒå‡»è¿è¡Œï¼š
```
scripts\deployment\pre_deploy_security_check.bat
```

### æ‰‹åŠ¨æ£€æŸ¥

```bash
python scripts/tools/check_sensitive_data.py
```

## ğŸ” å‘ç°çš„é—®é¢˜

æ£€æŸ¥è„šæœ¬å‘ç°äº†ä»¥ä¸‹æ•æ„Ÿæ–‡ä»¶ï¼š

### 1. âš ï¸ `.page_tokens.json` - åŒ…å«çœŸå®Facebook Token

**çŠ¶æ€**ï¼šå·²æäº¤åˆ°Gitï¼ˆéœ€è¦ç§»é™¤ï¼‰

**å¤„ç†**ï¼š
1. è¿è¡Œæ¸…ç†è„šæœ¬ï¼š
   ```bash
   scripts\deployment\remove_sensitive_files_from_git.bat
   ```

2. æˆ–æ‰‹åŠ¨ç§»é™¤ï¼š
   ```bash
   git rm --cached .page_tokens.json
   git rm --cached .page_tokens.json.backup
   git commit -m "Remove sensitive token files"
   git push
   ```

3. **é‡è¦**ï¼šå¦‚æœTokenå·²æ³„éœ²ï¼Œè¯·åœ¨Facebookå¼€å‘è€…æ§åˆ¶å°æ’¤é”€å¹¶é‡æ–°ç”Ÿæˆ

### 2. âš ï¸ `logs/app.log` - åŒ…å«Telegram Bot Token

**çŠ¶æ€**ï¼šå·²åœ¨.gitignoreä¸­ï¼Œä½†éœ€è¦ç¡®è®¤æœªæäº¤

**å¤„ç†**ï¼š
- å¦‚æœå·²æäº¤ï¼Œè¿è¡Œï¼š
  ```bash
  git rm -r --cached logs/
  git commit -m "Remove log files"
  git push
  ```

### 3. âœ… `config/config.yaml` - é…ç½®æ–‡ä»¶

**çŠ¶æ€**ï¼šå·²åœ¨.gitignoreä¸­

**ç¡®è®¤**ï¼šç¡®ä¿æ­¤æ–‡ä»¶ä¸ä¼šè¢«æäº¤

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

åœ¨æ¨é€åˆ°GitHubä¹‹å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] è¿è¡Œ `python scripts/tools/check_sensitive_data.py` é€šè¿‡
- [ ] ä»Gitä¸­ç§»é™¤äº† `.page_tokens.json`
- [ ] ä»Gitä¸­ç§»é™¤äº† `logs/` ç›®å½•ï¼ˆå¦‚æœå·²æäº¤ï¼‰
- [ ] ç¡®è®¤ `.gitignore` åŒ…å«æ‰€æœ‰æ•æ„Ÿæ–‡ä»¶
- [ ] æ£€æŸ¥ `git status` æ²¡æœ‰æ•æ„Ÿæ–‡ä»¶
- [ ] å¦‚æœå‘ç°çœŸå®å¯†é’¥æ³„éœ²ï¼Œå·²æ’¤é”€å¹¶é‡æ–°ç”Ÿæˆ

## ğŸ”’ å®‰å…¨é…ç½®

### 1. æ›´æ–° .gitignore

å·²æ›´æ–° `.gitignore`ï¼ŒåŒ…å«ï¼š
- `.env` å’Œ `.env.local`
- `config/config.yaml`
- `.page_tokens.json`
- `logs/` ç›®å½•
- `*.log` æ–‡ä»¶

### 2. Zeaburç¯å¢ƒå˜é‡

åœ¨Zeaburä¸­é…ç½®ç¯å¢ƒå˜é‡ï¼Œ**ä¸è¦**åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ï¼š

- `FACEBOOK_APP_ID`
- `FACEBOOK_APP_SECRET`
- `FACEBOOK_ACCESS_TOKEN`
- `FACEBOOK_VERIFY_TOKEN`
- `OPENAI_API_KEY`
- `TELEGRAM_BOT_TOKEN`
- `TELEGRAM_CHAT_ID`
- `SECRET_KEY`
- `DATABASE_URL`ï¼ˆZeaburè‡ªåŠ¨è®¾ç½®ï¼‰

## ğŸš€ å®‰å…¨éƒ¨ç½²æ­¥éª¤

1. **æ¸…ç†æ•æ„Ÿæ–‡ä»¶**ï¼š
   ```bash
   scripts\deployment\remove_sensitive_files_from_git.bat
   ```

2. **è¿è¡Œå®‰å…¨æ£€æŸ¥**ï¼š
   ```bash
   python scripts/tools/check_sensitive_data.py
   ```

3. **æäº¤æ›´æ”¹**ï¼š
   ```bash
   git add .
   git commit -m "Security: Remove sensitive files"
   git push
   ```

4. **åœ¨Zeaburä¸­é…ç½®ç¯å¢ƒå˜é‡**ï¼ˆä¸è¦é€šè¿‡ä»£ç ï¼‰

5. **éƒ¨ç½²**ï¼šZeaburä¼šè‡ªåŠ¨ä»GitHubæ‹‰å–ä»£ç 

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [éƒ¨ç½²å®‰å…¨æŒ‡å—](docs/deployment/DEPLOY_SECURITY_GUIDE.md)
- [å®‰å…¨æ£€æŸ¥æ¸…å•](docs/deployment/SECURITY_CHECKLIST.md)
- [æ•æ„Ÿä¿¡æ¯æ£€æŸ¥è„šæœ¬](scripts/tools/check_sensitive_data.py)

---

**âš ï¸ é‡è¦**ï¼šå®Œæˆæ‰€æœ‰å®‰å…¨æ£€æŸ¥åå†éƒ¨ç½²ï¼

